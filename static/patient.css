/* Patient mobile layout */
:root{
  --bg:#ffffff;
  --text:#151515;
  --muted:#dddddd;
  --muted-2:#e9e9e9;
  --nav-bg:#dedede;
  --active:#cfcfcf;
  --header-h:72px;
  --nav-h:64px;
  --side:20px;
}

*,
*::before,
*::after{box-sizing:border-box}

html,body{
  margin:0;
  padding:0;
  background:var(--bg);
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"PingFang SC","Noto Sans CJK SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.sr-only{
  position:absolute;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  border:0;
}

.mobile-page{
  min-height:100svh;
  padding-bottom:calc(var(--nav-h) + max(env(safe-area-inset-bottom,0px), 12px));
}

/* Header */
.app-header{
  height:var(--header-h);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 var(--side);
}
.brand{
  font-size:28px;
  font-weight:600;
  letter-spacing:0.2px;
}
.header-actions{
  display:flex;
  align-items:center;
  gap:16px;
  height:32px;
}
.header-icon{
  width:32px;
  height:32px;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0;
  background:none;
  border:0;
  cursor:pointer;
  text-decoration:none;
  color:#212121;
  transition:opacity 0.2s;
}
.header-icon:hover{
  opacity:0.7;
}
.header-icon:active{
  opacity:0.5;
}
.header-icon i{
  font-size:24px;
  color:#212121;
}

/* Main */
.app-main{
  padding:8px var(--side) 24px;
  min-height:100%;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.button-container{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:16px;
  margin-top:16px;
}
.cta-circle{
  display:grid;
  place-items:center;
  width:min(62vw, 360px);
  height:min(62vw, 360px);
  margin:24px auto;
  background:var(--muted);
  border-radius:50%;
  text-decoration:none;
  background:transparent;
  border:10px solid #181818;
  margin:16px auto;
}
.circle-icon{
  width:55%;
  max-width:140px;
  height:auto;
  user-select:none;
  pointer-events:none;
}
.circle-icon--reminder{
  width:55%;
  max-width:180px;
}

/* Dotted progress (middle dashed line look with rounded pills) */
.dotted-progress{
  list-style:none;
  display:flex;
  gap:16px;
  padding:0;
  margin:28px auto 24px;
  width:min(92%, 560px);
  justify-content:space-between;
}
.dotted-progress li{
  flex:1;
  height:14px;
  background:var(--muted-2);
  border-radius:999px;
}
.dotted-progress li:first-child,
.dotted-progress li:last-child{
  flex:0 0 36px; /* Shorter ends for design */
}

/* Bottom Navbar */
.bottom-nav{
  position:fixed;
  left:0;
  right:0;
  bottom:0;
  height:var(--nav-h);
  background:var(--nav-bg);
  display:grid;
  grid-template-columns:1fr 1fr;
  border-top:1px solid #eee;
  padding-bottom:max(env(safe-area-inset-bottom,0px), 0px);
  z-index:10;
}
.bottom-nav .nav-item{
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  color:var(--text);
  font-size:18px;
}
.bottom-nav .nav-item.active{
  background:var(--active);
  font-weight:600;
}

/* Button styles */
button,
.btn{
  font-size:1rem;
  font-weight:500;
  color:#555;
  background:none;
  border:0px;
  border-radius:0px;
  cursor:pointer;
  transition:background-color 0.2s, opacity 0.2s;
  user-select:none;
}
button:hover,
.btn:hover{
  background-color:#e5e5e5;
  color:#555;
  border-radius:4px;
}
button:active,
.btn:active{
  background-color:#dedede;
  border-radius:4px;
}

/* Small devices fine-tune */
@media (max-width:360px){
  .brand{font-size:24px}
  .dotted-progress{gap:12px}
  .dotted-progress li{height:12px}
}


/* =========================================================
   Patient Food Category Page (patient_food_category_page.html)
   Uses .pfc-* prefix to avoid conflicts
   ========================================================= */

/* Fixed container (tabs and search) */
.pfc-container{
  position:sticky;
  top:0;
  z-index:10;
  background:var(--bg);
  padding-top:8px;
  margin:-8px calc(var(--side) * -1) 0 calc(var(--side) * -1);
  padding-left:var(--side);
  padding-right:var(--side);
  padding-bottom:8px;
  box-shadow:0 2px 4px rgba(0,0,0,0.05);
}

/* Top tabs */
.pfc-tabs{
  position:relative;
  display:flex;
  justify-content:space-around;
  align-items:center;
  gap:12px;
  padding:0px;
  margin:0 0 8px;
}
.pfc-tabs::after{
  content:"";
  position:absolute;
  left:var(--side);
  right:var(--side);
  bottom:0;
  height:1px;
  background:var(--muted);
}
.pfc-tab{
  position:relative;
  padding:8px 20px;
  margin:0 0 8px;
  font-size:1.15rem;
  font-weight:600;
  user-select:none;
}

.pfc-tab.is-active::after{
  content:"";
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:0;
  width:64px;
  height:4px;
  border-width:0px;
}

/* Panel container */
.pfc-panel{
  margin-top:0;
}

/* List */
.pfc-list{
  list-style:none;
  margin:0;
  padding:8px var(--side) 16px;
  display:flex;
  flex-direction:column;
  gap:16px;
}
.pfc-item{
  display:flex;
  align-items:center;
  gap:16px;
}
.pfc-avatar{
  width:56px;
  height:56px;
  border-radius:50%;
  background:var(--muted-2);
  display:grid;
  place-items:center;
  color:var(--text);
  font-weight:700;
  font-size:20px;
  flex-shrink:0;
}
.pfc-title{
  font-size:16px;
  letter-spacing:0.1px;
  line-height:1.4;
  color:var(--text);
  overflow:hidden;
  text-overflow:ellipsis;
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  word-break:break-word;
  flex:1;
  min-width:0;
}

/* Search bar (fixed below tabs) */
.pfc-search{
  padding:8px 0 8px;
  background:var(--bg);
  z-index:5;
  display:flex;
  align-items:center;
  gap:14px;
}
/* Search icon decoration */
.pfc-search-leading{
  position:relative;
  width:40px;
  height:40px;
  display:grid;
  place-items:center;
}
.pfc-search-leading::after{
  content:none;
}
.pfc-search-leading img{
  width:28px;
  height:auto;
  display:block;
}
/* Input container */
.pfc-search-field{
  flex:1;
  display:flex;
  align-items:center;
  gap:10px;
  padding:14px 16px;
  border:1px solid var(--muted);
  border-radius:999px;
  background:#fff;
}
.pfc-search-input{
  width:100%;
  border:0;
  outline:0;
  background:transparent;
  font-size:18px;
  color:var(--text);
}
.pfc-search-clear{
  width:28px;
  height:28px;
  border:0;
  background:transparent;
  border-radius:50%;
  color:#666;
  display:grid;
  place-items:center;
  cursor:pointer;
}
.pfc-search-clear:active{opacity:0.8}

/* Small screen optimizations */
@media (max-width:360px){
  .pfc-tab{font-size:18px}
  .pfc-title{font-size:15px}
  .pfc-avatar{width:48px;height:48px;font-size:18px}
  .pfc-search-field{padding:12px 14px}
}

/* =========================================================
   Plan Page (patient_plan.html)
   Uses .calendar-* prefix to avoid conflicts
   ========================================================= */

.plan-page{
  padding:0;
  display:flex;
  flex-direction:column;
  overflow:hidden;
}

.plan-page.h-screen{
  height:100vh;
  height:100svh;
}

/* Title */
.plan-title{
  font-size:32px;
  font-weight:600;
  margin:0 0 16px;
  padding:0 var(--side);
  color:var(--text);
  letter-spacing:0.2px;
}

/* Week navigation */
.plan-week-controls{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px var(--side);
  margin:0 0 8px;
  border-bottom:1px solid var(--muted);
}

.week-nav-btn{
  width:36px;
  height:36px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:transparent;
  border:1px solid var(--muted);
  border-radius:50%;
  cursor:pointer;
  color:var(--text);
  transition:all 0.2s;
}

.week-nav-btn:hover{
  background:var(--muted-2);
  border-color:var(--muted-2);
}

.week-nav-btn:active{
  opacity:0.7;
}

.week-range{
  flex:1;
  text-align:center;
}

.week-range-text{
  font-size:14px;
  font-weight:500;
  color:var(--text);
}

.plan-week-nav{
  display:flex;
  justify-content:space-around;
  align-items:center;
  gap:8px;
  padding:0 var(--side) 12px;
  margin:0 0 8px;
  border-bottom:1px solid var(--muted);
}

.week-day{
  flex:1;
  padding:6px 4px;
  font-size:16px;
  font-weight:500;
  color:var(--text);
  background:transparent;
  border:0;
  cursor:pointer;
  transition:all 0.2s;
  border-radius:50%;
  min-width:40px;
  height:auto;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:2px;
}

.week-day:hover{
  background:var(--muted-2);
}

.week-day.active{
  background:var(--muted);
  font-weight:600;
}

.week-day.today .week-day-number{
  color:#007AFF;
  font-weight:600;
}

.week-day.active .week-day-number{
  font-weight:700;
}

.week-day-letter{
  font-size:12px;
  line-height:1;
}

.week-day-number{
  font-size:14px;
  line-height:1.2;
}

/* Time section container */
.plan-sections{
  display:flex;
  flex-direction:column;
  gap:0;
  padding:0 var(--side);
  flex:1;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  max-height:calc(100vh - 200px);
}

/* Time section */
.time-section{
  position:relative;
  padding:16px var(--side);
  margin:0 calc(-1 * var(--side)) 0;
  border:2px dashed var(--muted);
  border-left:0;
  border-right:0;
  overflow-y:auto;
  overflow-x:hidden;
  min-height:120px;
  max-height:400px;
}

.time-section:last-child{
  border-bottom:0;
}

/* Background icon */
.time-section-bg{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  width:200px;
  height:200px;
  opacity:0.75;
  pointer-events:none;
  z-index:0;
  display:flex;
  align-items:center;
  justify-content:center;
}

.time-icon{
  width:100%;
  height:100%;
  object-fit:contain;
  max-width:100%;
  max-height:100%;
}

/* Plan item list */
.plan-item-list{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:12px;
  position:relative;
  z-index:1;
}

/* Plan item */
.plan-item{
  display:flex;
  align-items:center;
  gap:12px;
  padding:4px 0;
}

/* Avatar circle */
.plan-item-avatar{
  width:48px;
  height:48px;
  border-radius:50%;
  background:var(--muted-2);
  display:grid;
  place-items:center;
  color:var(--text);
  font-weight:700;
  font-size:20px;
  flex-shrink:0;
}

/* Content area */
.plan-item-content{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:4px;
}

.plan-item-name{
  font-size:18px;
  color:var(--text);
  letter-spacing:0.2px;
}

.plan-item-dosage{
  font-size:14px;
  color:#666;
}

.plan-item-time{
  font-size:14px;
  color:#666;
}

/* Checkbox button */
.plan-item-checkbox{
  width:32px;
  height:32px;
  padding:0;
  border:0;
  background:transparent;
  cursor:pointer;
  display:grid;
  place-items:center;
  color:#666;
  flex-shrink:0;
  transition:color 0.2s, opacity 0.2s;
}

.plan-item-checkbox:hover{
  color:var(--text);
  opacity:0.8;
}

.plan-item-checkbox:active{
  opacity:0.6;
}

.plan-item-checkbox svg{
  width:24px;
  height:24px;
}

/* Checkbox checked state */
.plan-item-checkbox.checked{
  color:var(--text);
}

/* Checkbox disabled state */
.plan-item-checkbox.disabled,
.plan-item-checkbox:disabled{
  opacity:0.4;
  cursor:not-allowed;
  pointer-events:none;
}

.plan-item-checkbox.disabled:hover,
.plan-item-checkbox:disabled:hover{
  background:transparent;
  opacity:0.4;
}

/* Empty state */
.plan-empty-state{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:80px var(--side);
  text-align:center;
}

.plan-empty-text{
  font-size:18px;
  font-weight:500;
  color:#999;
}

/* Dialog component */
.plan-dialog{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  z-index:1000;
  align-items:center;
  justify-content:center;
}

.plan-dialog.show{
  display:flex;
}

.plan-dialog-overlay{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.5);
  backdrop-filter:blur(2px);
}

.plan-dialog-content{
  position:relative;
  background:var(--bg);
  border-radius:12px;
  width:90%;
  max-width:400px;
  box-shadow:0 8px 32px rgba(0,0,0,0.2);
  z-index:1;
  animation:plan-dialog-fade-in 0.2s ease-out;
}

@keyframes plan-dialog-fade-in{
  from{
    opacity:0;
    transform:scale(0.95) translateY(-10px);
  }
  to{
    opacity:1;
    transform:scale(1) translateY(0);
  }
}

.plan-dialog-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:20px 20px 16px;
  border-bottom:1px solid var(--muted);
}

.plan-dialog-title{
  font-size:18px;
  font-weight:600;
  color:var(--text);
  margin:0;
}

.plan-dialog-close{
  width:32px;
  height:32px;
  padding:0;
  border:0;
  background:transparent;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#666;
  border-radius:50%;
  transition:all 0.2s;
}

.plan-dialog-close:hover{
  background:var(--muted-2);
  color:var(--text);
}

.plan-dialog-body{
  padding:20px;
}

.plan-dialog-body p{
  margin:0;
  font-size:16px;
  color:var(--text);
  line-height:1.5;
}

.plan-dialog-footer{
  display:flex;
  justify-content:flex-end;
  gap:12px;
  padding:16px 20px 20px;
  border-top:1px solid var(--muted);
}

.plan-dialog-btn{
  padding:10px 24px;
  border:0;
  border-radius:8px;
  font-size:16px;
  font-weight:500;
  cursor:pointer;
  transition:all 0.2s;
  background:var(--muted-2);
  color:var(--text);
}

.plan-dialog-btn:hover{
  background:var(--muted);
}

.plan-dialog-btn--primary{
  background:#646464;
  color:#fff;
}

.plan-dialog-btn--primary:hover{
  background:#555;
}

.plan-dialog-btn--primary:active{
  opacity:0.8;
}

/* Doctor feedback card */
.doctor-feedback-card{
  background:linear-gradient(135deg, #e8f2ff 0%, #f0f7ff 100%);
  border:2px solid #1976d2;
  border-radius:12px;
  padding:20px;
  margin:16px 0 24px;
  box-shadow:0 2px 8px rgba(25,118,210,0.1);
}

.doctor-feedback-header{
  display:flex;
  align-items:center;
  gap:8px;
  margin-bottom:12px;
}

.doctor-feedback-icon{
  font-size:20px;
}

.doctor-feedback-title{
  font-size:16px;
  font-weight:600;
  color:#1976d2;
}

.doctor-feedback-content{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.doctor-feedback-text{
  font-size:15px;
  color:var(--text);
  line-height:1.6;
  margin:0;
  white-space:pre-wrap;
}

.doctor-feedback-date{
  font-size:12px;
  color:#666;
  margin-top:4px;
}

/* Small screen optimizations */
@media (max-width:360px){
  .plan-title{font-size:28px}
  .week-day{font-size:16px;min-width:32px;height:32px}
  .plan-item-avatar{width:44px;height:44px;font-size:18px}
  .plan-item-name{font-size:16px}
  .time-section-bg{width:160px;height:160px}
  .time-section{min-height:120px;padding:12px var(--side);max-height:350px}
  .doctor-feedback-card{padding:16px}
  .doctor-feedback-text{font-size:14px}
}

/* =========================================================
   Reminder Page (patient_reminder.html)
   Uses .reminder-* prefix to avoid conflicts
   ========================================================= */

.reminder-page{
  padding:0 var(--side) 24px;
}

/* Page title */
.reminder-page-title{
  font-size:14px;
  color:#999;
  margin:16px 0 8px;
  font-weight:400;
}

/* Main title */
.reminder-main-title{
  font-size:28px;
  font-weight:700;
  margin:0 0 24px;
  color:var(--text);
  letter-spacing:0.2px;
}

/* Reminder card */
.reminder-card{
  background:var(--bg);
  border:1px solid var(--muted);
  border-radius:12px;
  padding:20px;
  margin:20px 0px;
}

/* Current reminder card */
.reminder-card--current{
  border:2px solid var(--text);
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
  background:var(--bg);
}

.reminder-card--current .reminder-value{
  font-size:20px;
  font-weight:600;
}

.reminder-card--current .reminder-label{
  font-weight:600;
  color:var(--text);
}

.reminder-card--upcoming{
  margin-top:24px;
}

.reminder-card-header{
  font-size:16px;
  color:#999;
  font-weight:500;
  margin:0 0 16px;
}

.reminder-card-row{
  display:flex;
  flex-direction:column;
  gap:4px;
  margin:0 0 16px;
}

.reminder-card-row:last-child{
  margin-bottom:0;
}

.reminder-label{
  font-size:14px;
  color:#666;
  font-weight:500;
}

.reminder-value{
  font-size:18px;
  color:var(--text);
  font-weight:400;
}

/* Status display */
.reminder-status{
  display:flex;
  align-items:center;
  gap:12px;
  margin:0 0 20px;
}

.reminder-status-badge{
  font-size:16px;
  font-weight:500;
  padding:4px 0;
}

.reminder-status-badge--pending{
  color:var(--text);
}

.reminder-status-badge--completed{
  color:#4caf50;
}

/* Complete button */
.reminder-complete-btn{
  width:100%;
  padding:16px 24px;
  background:#646464;
  color:#fff;
  border:0;
  border-radius:12px;
  font-size:18px;
  font-weight:500;
  cursor:pointer;
  transition:background-color 0.2s, opacity 0.2s;
  margin:0 0 12px;
}

.reminder-complete-btn:hover{
  background:#555;
}

.reminder-complete-btn:active{
  opacity:0.8;
}

/* Sync note */
.reminder-sync-note{
  font-size:14px;
  color:#999;
  text-align:center;
  margin:0 0 24px;
}

/* Success banner */
.reminder-success-banner{
  background:var(--muted-2);
  border-radius:12px;
  padding:16px 20px;
  font-size:16px;
  color:var(--text);
  text-align:center;
  margin:24px 0 0;
}

/* Small screen optimizations */
@media (max-width:360px){
  .reminder-main-title{font-size:28px}
  .reminder-card{padding:16px}
  .reminder-value{font-size:16px}
  .reminder-complete-btn{font-size:16px;padding:14px 20px}
}

/* =========================================================
   Food History Page (patient_food_history.html)
   Uses .food-history-* prefix to avoid conflicts
   ========================================================= */

.food-history-page{
  padding:0 var(--side) 24px;
}

/* Page title */
.food-history-header{
  padding:16px 0;
  border-bottom:1px solid var(--muted);
  margin-bottom:16px;
}

.food-history-title{
  font-size:28px;
  font-weight:700;
  margin:0;
  color:var(--text);
  letter-spacing:0.2px;
}

/* Filter buttons */
.food-history-filters{
  display:flex;
  gap:8px;
  margin-bottom:20px;
  overflow-x:auto;
  padding-bottom:8px;
  -webkit-overflow-scrolling:touch;
}

.filter-btn{
  padding:8px 16px;
  font-size:14px;
  font-weight:500;
  color:var(--text);
  background:transparent;
  border:1px solid var(--muted);
  border-radius:20px;
  cursor:pointer;
  white-space:nowrap;
  transition:all 0.2s;
}

.filter-btn:hover{
  background:var(--muted-2);
}

.filter-btn.active{
  background:var(--text);
  color:var(--bg);
  border-color:var(--text);
}

/* Food record list */
.food-history-list{
  display:flex;
  flex-direction:column;
  gap:24px;
}

/* Date grouping */
.food-history-date-group{
  margin-bottom:8px;
}

.food-history-date-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:12px;
  padding:8px 0;
}

.date-label{
  font-size:16px;
  font-weight:600;
  color:var(--text);
}

.date-weekday{
  font-size:14px;
  color:#666;
  font-weight:400;
}

.food-history-items{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* Food record item */
.food-history-item{
  display:flex;
  align-items:flex-start;
  gap:16px;
  padding:16px;
  background:var(--bg);
  border:1px solid var(--muted);
  border-radius:12px;
  transition:all 0.2s;
}

.food-history-item:hover{
  border-color:var(--muted-2);
  box-shadow:0 2px 8px rgba(0,0,0,0.05);
}

.food-history-item-avatar{
  width:48px;
  height:48px;
  border-radius:50%;
  background:var(--muted-2);
  display:grid;
  place-items:center;
  color:var(--text);
  font-weight:700;
  font-size:20px;
  flex-shrink:0;
}

.food-history-item-content{
  flex:1;
  min-width:0;
  display:flex;
  flex-direction:column;
  gap:6px;
}

.food-history-item-name{
  font-size:16px;
  font-weight:600;
  color:var(--text);
  line-height:1.4;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  max-width:100%;
}

.food-history-item-meta{
  display:flex;
  align-items:center;
  gap:12px;
  font-size:14px;
  color:#666;
}

.food-history-time{
  font-weight:500;
  color:#666;
  display:inline-flex;
  align-items:center;
  gap:4px;
}

.food-history-created{
  font-weight:400;
  color:#999;
  font-size:13px;
  display:inline-flex;
  align-items:center;
  gap:4px;
}

.food-history-amount{
  color:#666;
}

.food-history-notes{
  font-size:14px;
  color:#666;
  line-height:1.4;
  margin-top:4px;
}

.food-history-item-delete{
  width:36px;
  height:36px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:transparent;
  border:0;
  color:#999;
  cursor:pointer;
  border-radius:50%;
  transition:all 0.2s;
  flex-shrink:0;
}

.food-history-item-delete:hover{
  background:var(--muted-2);
  color:#ef5757;
}

/* Empty state */
.food-history-empty{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:60px 20px;
  text-align:center;
}

.food-history-empty-icon{
  font-size:64px;
  margin-bottom:16px;
}

.food-history-empty-text{
  font-size:18px;
  font-weight:600;
  color:var(--text);
  margin-bottom:8px;
}

.food-history-empty-hint{
  font-size:14px;
  color:#666;
}

/* Small screen adaptions */
@media (max-width:360px){
  .food-history-title{font-size:24px}
  .food-history-item{padding:12px}
  .food-history-item-avatar{width:40px;height:40px;font-size:18px}
  .food-history-item-name{font-size:15px}
  .food-history-item-meta{font-size:13px}
}

/* =========================================================
   Food Detail Page (patient_food_detail.html)
   Uses .food-detail-* prefix to avoid conflicts
   ========================================================= */

.food-detail-page {
    padding: 0 var(--side) 16px;
    padding-bottom: calc(var(--nav-h) + 80px);
}

/* Page title */
.food-detail-header {
    padding: 8px 0;
    margin-bottom: 12px;
}

.food-detail-title {
    font-size: 24px;
    font-weight: 700;
    margin: 0;
    color: var(--text);
    letter-spacing: 0.2px;
}

/* Main card */
.food-detail-card {
    background: var(--bg);
    border-radius: 16px;
    padding: 16px;
    margin-top: 8px;
}

/* Food image container */
.food-detail-image-container {
    width: 100%;
    margin-bottom: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    min-height: 200px;
}

#food-detail-image-wrapper {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    min-height: 200px;
}

.food-detail-image {
    width: 100%;
    max-width: 240px;
    height: auto;
    border-radius: 12px;
    object-fit: cover;
}

/* Loading animation */
.food-detail-image-spinner {
    width: 60px;
    height: 60px;
    border: 5px solid #f0f0f0;
    border-top: 5px solid #646464;
    border-radius: 50%;
    animation: food-detail-spin 1s linear infinite;
    display: flex;
    justify-content: center;
    align-items: center;
}

@keyframes food-detail-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Form */
.food-detail-form {
    display: flex;
    flex-direction: column;
    gap: 14px;
}

/* Form field */
.food-detail-field {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.food-detail-label {
    font-size: 16px;
    font-weight: 600;
    color: var(--text);
}

.food-detail-input,
.food-detail-textarea {
    width: 100%;
    padding: 10px 14px;
    border: 1px solid var(--muted);
    border-radius: 8px;
    font-size: 16px;
    font-family: inherit;
    color: var(--text);
    background: var(--bg);
    transition: border-color 0.2s;
}

.food-detail-input:focus,
.food-detail-textarea:focus {
    outline: none;
    border-color: var(--text);
}

.food-detail-textarea {
    resize: vertical;
    min-height: 70px;
}

/* Button group */
.food-detail-actions {
    display: flex;
    gap: 10px;
    margin-top: 4px;
}

.food-detail-btn {
    flex: 1;
    padding: 12px 16px;
    border: 0;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.food-detail-btn--cancel {
    background: var(--muted-2);
    color: var(--text);
}

.food-detail-btn--cancel:hover {
    background: var(--muted);
}

.food-detail-btn--save {
    background: #646464;
    color: #fff;
}

.food-detail-btn--save:hover {
    background: #555;
}

.food-detail-btn--save:active {
    opacity: 0.8;
}

/* Success banner */
.food-detail-success-banner {
    margin-top: 12px;
    padding: 12px 16px;
    background: var(--muted-2);
    border-radius: 8px;
    text-align: center;
    font-size: 14px;
    color: var(--text);
}

/* Small screen optimizations */
@media (max-width: 360px) {
  .food-detail-title {
        font-size: 24px;
    }
    .food-detail-card {
        padding: 20px;
    }
    .food-detail-btn {
        font-size: 16px;
        padding: 14px 20px;
    }
}

/* =========================================================
   User Menu (patient_header.html)
   ========================================================= */

/* User Menu Container */
.user-menu-container {
    position: relative;
}

.user-menu-dropdown {
    display: none;
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background: var(--bg);
    border: 1px solid var(--muted);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    min-width: 200px;
    z-index: 1000;
    overflow: hidden;
}

.user-menu-dropdown.show {
    display: block;
}

.user-menu-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    width: 100%;
    text-align: left;
    background: none;
    border: 0;
    color: var(--text);
    font-size: 16px;
    cursor: pointer;
    text-decoration: none;
    transition: background-color 0.2s;
}

.user-menu-item:hover {
    background: var(--muted-2);
}

.user-menu-item i {
    width: 20px;
    font-size: 16px;
}

/* Username Form Styles */
.username-form-field {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.username-label {
    font-size: 14px;
    font-weight: 500;
    color: var(--text);
}

.username-input {
    width: 100%;
    padding: 10px 14px;
    border: 1px solid var(--muted);
    border-radius: 8px;
    font-size: 16px;
    font-family: inherit;
    color: var(--text);
    background: var(--bg);
    transition: border-color 0.2s;
}

.username-input:focus {
    outline: none;
    border-color: var(--text);
}

.username-error {
    font-size: 14px;
    color: #ef5757;
    margin-top: 4px;
}

/* ============================================
   Notification Settings Page Styles
   ============================================ */

.notification-settings-page {
  width: 100%;
  max-width: 600px;
  margin: 0 auto;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.notification-settings-header {
  margin-bottom: 16px;
}

.notification-settings-title {
  font-size: 28px;
  font-weight: 600;
  color: var(--text);
  margin: 0 0 6px 0;
  letter-spacing: 0.2px;
}

.notification-settings-description {
  font-size: 16px;
  color: var(--text);
  opacity: 0.7;
  margin: 0;
  line-height: 1.4;
}

.notification-settings-card {
  background: var(--bg);
  border: 1px solid var(--muted);
  border-radius: 12px;
  padding: 16px;
}

.notification-settings-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Setting Item */
.notification-setting-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
  min-height: 40px;
}

.notification-setting-label {
  font-size: 16px;
  font-weight: 500;
  color: var(--text);
  cursor: pointer;
  user-select: none;
  flex: 1;
}

/* Custom Switch */
.notification-switch {
  position: relative;
  display: inline-block;
  width: 52px;
  height: 30px;
  flex-shrink: 0;
  cursor: pointer;
}

.notification-switch-input {
  opacity: 0;
  width: 0;
  height: 0;
}

.notification-switch-slider {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--muted);
  transition: 0.3s;
  border-radius: 30px;
}

.notification-switch-slider:before {
  position: absolute;
  content: "";
  height: 22px;
  width: 22px;
  left: 4px;
  bottom: 4px;
  background-color: var(--bg);
  transition: 0.3s;
  border-radius: 50%;
}

.notification-switch-input:checked + .notification-switch-slider {
  background-color: #646464;
}

.notification-switch-input:checked + .notification-switch-slider:before {
  transform: translateX(22px);
}

.notification-switch-input:focus + .notification-switch-slider {
  box-shadow: 0 0 1px #646464;
}

/* Minutes Section */
.notification-minutes-section {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.notification-section-label {
  font-size: 16px;
  font-weight: 500;
  color: var(--text);
  margin-bottom: 2px;
}

.notification-chips-container {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 8px;
  max-height: 200px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.notification-chip {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 20px;
  background: var(--muted-2);
  color: var(--text);
  font-size: 14px;
  min-height: 36px;
  flex-shrink: 0;
}

.notification-chip-main {
  font-weight: 600;
  margin-right: 4px;
}

.notification-chip-sub {
  font-size: 13px;
  opacity: 0.7;
  flex: 1;
}

.notification-chip-remove {
  border: none;
  background: transparent;
  color: var(--text);
  font-size: 20px;
  line-height: 1;
  padding: 4px 8px;
  cursor: pointer;
  min-width: 32px;
  min-height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background-color 0.2s;
  opacity: 0.6;
}

.notification-chip-remove:hover {
  background-color: var(--muted);
  opacity: 1;
}

.notification-chip-remove:active {
  opacity: 0.8;
}

.notification-empty-hint {
  font-size: 14px;
  color: var(--text);
  opacity: 0.5;
  padding: 8px 0;
}

/* Input Group */
.notification-input-group {
  display: flex;
  gap: 8px;
  align-items: center;
}

.notification-input {
  flex: 1;
  padding: 12px 16px;
  border: 1px solid var(--muted);
  border-radius: 8px;
  font-size: 16px;
  font-family: inherit;
  color: var(--text);
  background: var(--bg);
  transition: border-color 0.2s;
  min-height: 44px;
  -webkit-appearance: none;
  appearance: none;
}

.notification-input::placeholder {
  color: var(--text);
  opacity: 0.4;
}

.notification-input:focus {
  outline: none;
  border-color: var(--text);
}

.notification-add-btn {
  white-space: nowrap;
  padding: 12px 20px;
  border: 0;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  background: var(--muted-2);
  color: var(--text);
  min-height: 44px;
}

.notification-add-btn:hover {
  background: var(--muted);
}

.notification-add-btn:active {
  opacity: 0.8;
}

.notification-hint {
  font-size: 13px;
  color: var(--text);
  opacity: 0.6;
  margin-top: 2px;
  line-height: 1.4;
}

/* Actions */
.notification-actions {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 4px;
}

.notification-save-btn {
  width: 100%;
  padding: 14px 24px;
  border: 0;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  background: #646464;
  color: #fff;
  min-height: 48px;
}

.notification-save-btn:hover {
  background: #555;
}

.notification-save-btn:active {
  opacity: 0.8;
}

.notification-status {
  font-size: 14px;
  text-align: center;
  padding: 4px 0;
}

.notification-status.text-success {
  color: #059669;
}

.notification-status.text-danger {
  color: #dc2626;
}

/* Mobile optimizations */
@media (max-width: 480px) {
  .notification-settings-title {
    font-size: 24px;
  }
  
  .notification-settings-card {
    padding: 16px;
  }
  
  .notification-input-group {
    flex-direction: column;
  }
  
  .notification-add-btn {
    width: 100%;
  }
}

/* Tablet/Desktop */
@media (min-width: 600px) {
  .notification-actions {
    flex-direction: row;
    align-items: center;
  }
  
  .notification-save-btn {
    width: auto;
    min-width: 140px;
  }
  
  .notification-status {
    text-align: left;
  }
}
